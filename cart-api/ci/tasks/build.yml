---
platform: linux
image_resource:
  type: docker-image
  source:
    repository: adoptopenjdk/openjdk11
    tag: latest
inputs:
  - name: src-repo
outputs:
  - name: artifacts
params:
  BUILD_CMD: ./gradlew clean build
  COPY_CMD: cp build/libs/cart-api-*-SNAPSHOT.jar ../../artifacts/cart-api.jar
run:
  path: src-repo/cart-api/ci/scripts/build.sh